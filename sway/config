# Variables section
set $mod Mod4
set $mod2 Mod1+Shift

set $terminal foot

# Input (keyboard) configuration
input type:keyboard xkb_model pc102
input type:keyboard xkb_layout us,se
input type:keyboard xkb_options grp:sclk_toggle

# Input (drawing tablet) configuration
input type:tablet_pad map_to_output eDP-1
input type:tablet_tool map_to_output eDP-1

# Font for window titles. Will also be used by the bar unless a different font
# is used in the bar {} block below.
font pango:EnvyCodeR Nerd Font 10

# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

# start a terminal
bindsym $mod+Return exec $terminal

# start a menu like dmenu or similar
bindsym Menu exec ~/.local/bin/menu.sh
bindsym Ctrl+Escape exec ~/.local/bin/menu.sh

# change sound volume
# For ALSA using amixer.
#bindsym XF86AudioRaiseVolume exec amixer -c 1 -M set Master 5%+
#bindsym XF86AudioLowerVolume exec amixer -c 1 -M set Master 5%-
# For PipeWire using pulsemixer.
bindsym XF86AudioRaiseVolume exec pulsemixer --change-volume +5
bindsym XF86AudioLowerVolume exec pulsemixer --change-volume -5
bindsym XF86AudioMute exec pulsemixer --toggle-mute

# change focus
bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right

# enter fullscreen mode for the focused container
bindsym $mod+f fullscreen toggle

# change focus between tiling / floating windows
bindsym $mod+Shift+f focus mode_toggle

# switch to workspace
bindsym $mod2+1 workspace 1
bindsym $mod2+2 workspace 2
bindsym $mod2+3 workspace 3
bindsym $mod2+4 workspace 4
bindsym $mod2+5 workspace 5
bindsym $mod2+6 workspace 6
bindsym $mod2+7 workspace 7
bindsym $mod2+8 workspace 8
bindsym $mod2+9 workspace 9
bindsym $mod2+0 workspace 10

# reload the configuration file
bindsym $mod2+c reload

set $resize_mode "resize"

# resize window (you can also use the mouse for that)
mode $resize_mode {
  # These bindings trigger as soon as you enter the resize mode

  # Pressing left will shrink the window’s width.
  # Pressing right will grow the window’s width.
  # Pressing up will shrink the window’s height.
  # Pressing down will grow the window’s height.
  bindsym h resize shrink width 10 px
  bindsym j resize shrink height 10 px
  bindsym k resize grow height 10 px
  bindsym l resize grow width 10 px

  bindsym Escape mode "default"
}

bindsym $mod2+r mode $resize_mode

set $container_mode "move container"
mode $container_mode {
  # move focused window
  bindsym h move left
  bindsym j move down
  bindsym k move up
  bindsym l move right

  # move focused container to workspace
  bindsym 1 move container to workspace 1; mode "default"
  bindsym 2 move container to workspace 2; mode "default"
  bindsym 3 move container to workspace 3; mode "default"
  bindsym 4 move container to workspace 4; mode "default"
  bindsym 5 move container to workspace 5; mode "default"
  bindsym 6 move container to workspace 6; mode "default"
  bindsym 7 move container to workspace 7; mode "default"
  bindsym 8 move container to workspace 8; mode "default"
  bindsym 9 move container to workspace 9; mode "default"
  bindsym 0 move container to workspace 10; mode "default"

  bindsym Escape mode "default"
}

bindsym $mod2+m mode $container_mode

set $workspace_mode "move workspace"
mode $workspace_mode {
  # move current workspace
  bindsym h move workspace to output left; mode "default"
  bindsym j move workspace to output down; mode "default"
  bindsym k move workspace to output up; mode "default"
  bindsym l move workspace to output right; mode "default"

  bindsym Escape mode "default"
}

bindsym $mod2+w mode $workspace_mode

set $quit_mode "quit: [k]ill [l]ock [r]eload e[x]it"
mode $quit_mode {
  # kill focused window
  bindsym k kill; mode "default"
  bindsym l exec swaylock; mode "default"
  # reload the sway configuration, applying changes
  bindsym r reload
  # exit sway
  bindsym x exit

  bindsym Escape mode "default"
}

bindsym $mod2+q mode $quit_mode

set $split_mode "split: [p]arent focus [c]hild focus [s]plit"
mode $split_mode {
  # focus the child container
  bindsym c focus child
  # focus the parent container
  bindsym p focus parent

  # split the focused container
  bindsym s split toggle; mode "default"

  bindsym Escape mode "default"
}

bindsym $mod2+s mode $split_mode

set $layout_mode "layout: [s]tacking [t]abbed [h]orizontal split [v]ertical split [f]loating toggle"
mode $layout_mode {
  # change container layout (stacked, tabbed, toggle split)
  bindsym s layout stacking; mode "default"
  bindsym t layout tabbed; mode "default"
  bindsym h layout splith; mode "default"
  bindsym v layout splitv; mode "default"

  # toggle tiling / floating
  bindsym f floating toggle; mode "default"

  bindsym Escape mode "default"
}

bindsym $mod2+space mode $layout_mode

# Start i3bar to display a workspace bar.
bar {
  hidden_state show
  pango_markup enabled
  #status_command batterybar
}

# Default to tabbed layout.
workspace_layout tabbed

default_border none
hide_edge_borders --i3 both

# Stylizing the title with italics or bold style to distinguish Wayland from X
# windows.
for_window [title="."] title_format "<i>%app_id</i><b>%class</b> %title"

# Control which screens different workspaces show up on.
workspace 1 output eDP-1
workspace 2 output HDMI-A-1 DP-1 DP-2 DP-3 DP-4
workspace 3 output HDMI-A-1 DP-1 DP-2 DP-3 DP-4
workspace 4 output HDMI-A-1 DP-1 DP-2 DP-3 DP-4
workspace 5 output HDMI-A-1 DP-1 DP-2 DP-3 DP-4
workspace 6 output HDMI-A-1 DP-1 DP-2 DP-3 DP-4

for_window [app_id="Alacritty"] move container to workspace 1
for_window [app_id="foot"] move container to workspace 1
for_window [app_id="chromium"] move container to workspace 2
for_window [app_id="chromium-browser"] move container to workspace 2
for_window [app_id="Opera"] move container to workspace 2
for_window [class="Opera"] move container to workspace 2
for_window [app_id="nvim-qt"] move container to workspace 3
for_window [class="Slack"] move container to workspace 4

# color class           border  background text    indicator child_border
client.focused          #00bfff #000080    #afeeee #afeeee   #285577
client.focused_inactive #40e0d0 #00bfff    #afeeee #afeeee   #5f676a
client.unfocused        #333333 #40e0d0    #afeeee #afeeee   #222222
client.urgent           #00bfff #ff1493    #afeeee #ff1493   #00bfff
client.placeholder      #000000 #0c0c0c    #afeeee #000000   #0c0c0c
client.background       #e0e0e0

output eDP-1 {
  pos 1920 0
}

output HDMI-A-1 {
  pos 0 0
}
output DP-1 {
  pos 3840 0
}
